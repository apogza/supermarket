{% extends 'base.html.twig' %}

{% block title %}Welcome{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    .leftFloater { float: left; margin-right: 5em; }
    .noFloater { clear: both; }
</style>

<div class="example-wrapper">

    <div class="leftFloater">
        <h2>Products</h2>
        <a href="{{ path('products')}}">Go to Products</a>
        <table>
            <tr>
                <th>Product</th>
                <th>Price</th>
            </tr>
            {% for product in products %}
            <tr>
                <td align="center">{{ product.getName() }}</td>
                <td align="center">{{ product.getPrice() }}</td>
            </tr>
            {% endfor %}
        </table>
        <br />

    </div>
    <div class="leftFloater">
        <h2>Discounts</h2>
        <a href="{{ path('discounts')}}">Go to Discounts</a>
        <table>
          <tr>
            <th>Product Name</th>
            <th>Units</th>
            <th>Price</th>
          </tr>
          {% for discount in discounts %}
          <tr>
            <td align="center">{{ discount.getProdId().getName() }}</td>
            <td align="center">{{ discount.Units() }}</td>
            <td align="center">{{ discount.getPrice() }}</td>
          </tr>
          {% endfor %}
        </table>
        <br />

    </div>
    <div class="noFloater">
        <br />
        <form method="POST">
            <label for="order">Order: </label>
            <input type="text" name="order" value="{{ order }}" />
            {% if orderErrors|length > 0 %}
                <ul>
                {% for error in orderErrors %}
                    <li>{{ error }}</li>
                {% endfor %}
                </ul>
            {% endif %}

            <input type="Submit" value="Submit" />
        </form>
        <br />
        {% if orderPrice > 0 %}
            Total Price: {{ orderPrice }}
        {% endif %}

    </div>
</div>
{% endblock %}
